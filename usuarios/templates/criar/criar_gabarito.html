{% extends 'new_base.html' %}
{% block title %}Cadastro de Alunos{% endblock %}
{% block content %}

<div class="container-xxl flex-grow-1 container-p-y">
  <div class="row">
    <div class="col-lg-8 mb-4 order-0">
      <div class="card mb-4">
        <div class="card-header d-flex align-items-center justify-content-between">
          <h5 class="card-title text-primary">Cadastro de Gabarito</h5>
        </div>
        <div class="card-body">
          {% include 'parcials/_messages.html' %}
          <form action="" method="POST">
            {% include 'parcials/_messages.html' %}
            {% csrf_token %}
            <div class="row mb-3">
              <label for="Escola" class="form-label">Escola</label>
              <div class="col-md-4">
                <input id="BuscaEscola" type="text" class="form-control mx-0" placeholder="Pesquise o nome..." aria-label="Pesquise o nome..." aria-describedby="basic-addon13">
              </div>
              <div class="col-md-8">
                <select class="form-select" id="Escola" aria-label="Escola da Turma" name="escola" required>
                  <option selected class="escola_option" data-nome="{{escola.nome}}">Selecione a Escola</option>
                  {% for escola in escolas %}
                  <option value="{{escola.id}}" class="escola_option" data-nome="{{escola.nome}}">{{escola.nome}}</option>
                  {% endfor %}
                </select>
              </div>
              
            </div>
            
            <div class="mb-3">
              <label class="form-label" for="basic-icon-default-company">Nome da Turma</label>
              <div class="input-group input-group-merge">
                <span id="basic-icon-default-company2" class="input-group-text"><i class="fa fa-university"></i></span>
                <input
                  type="text"
                  name="nome"
                  class="form-control"
                  id="basic-icon-default-fullname"
                  placeholder=""
                  aria-label=""
                  aria-describedby="basic-icon-default-fullname2"
                  value = "{{nome_aluno}}"
                  required
                />
              </div>
            </div>
            <div class="mb-3">
              <label for="exampleFormControlSelect1" class="form-label">Grau de Ensino da Turma</label>
              <select class="form-select" id="exampleFormControlSelect1" aria-label="Default select example" name="grau">
                <option selected value="1">1º ano</option>
                <option value="2">2º ano</option>
                <option value="3">3º ano</option>
                <option value="4">4º ano</option>
                <option value="5">5º ano</option>
                <option value="6">6º ano</option>
                <option value="7">7º ano</option>
                <option value="8">8º ano</option>
                <option value="9">9º ano</option>
                <option value="10">1º ano do ensino médio</option>
                <option value="11">2º ano do ensino médio</option>
                <option value="12">3º ano do ensino médio</option>
              </select>
            </div>
         
            <button type="submit" class="btn btn-primary">Cadastrar</button>
            <!-- ao cancelar redireciona para a página anterior-->
            <a class="btn btn-secondary mx-2" href="javascript:history.back()">Cancelar</a>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

           
<script>
function filterFunction() {
  var input, filter, ul, li, a, i, txtValue;
  input = document.getElementById("BuscaEscola");
  filter = input.value.toUpperCase();
  div = document.getElementById("Escola");
  a = div.getElementsByTagName("option");
  for (i = 0; i < a.length; i++) {
    txtValue = a[i].getAttribute('data-nome');
    if (txtValue.toUpperCase().indexOf(filter) > -1) {
      a[i].style.display = "";
    } else {
      a[i].style.display = "none";
    }
  }
}
document.getElementById("BuscaEscola").addEventListener("keyup", filterFunction);

</script>
    
{% endblock %}
    